@startuml

title Character Creator

struct Variant {
Mesh mesh
Material material
}

class sMeshList {
Scriptable Object
--
Variant[] variants
int savedVariantIndex;
}

class CharacterCustomizable {
  - -MeshFilter filter
  - -Meshrenderer renderer
  - -sMeshOptions meshOptions
  - -int currentFeatureIndex
  + +PreviousVariant() : void
  + +NextVariant() : void
  - -ApplyVariant() : void
  - -CheckButtonClick() : void <<event>>
}

sMeshList *-down- Variant
CharacterCustomizable *-down- sMeshList

interface ICommand {
  + +Execute(): void
}

interface ICommandGeneric<<Generic>> {
  + +Execute(): void
}

interface IReversibleCommand {
  + +Undo(): void
}

interface IReversibleCommandGeneric<<Generic>> {
  + +Undo(): void
}

ICommand <|.down. IReversibleCommand
ICommandGeneric <|.down. IReversibleCommandGeneric

class InputHandler {
  - -commands: Dictionary<Keycode, ICommand> 
  + +AddCommand(): void
  + +HandleInput(): ICommand
}

class PlayerInput {
  - -inputHandler: InputHandler
  - -Awake(): void
  - -Start(): void
  - -Update(): void
}

PlayerInput *-left-- InputHandler

class NextVariantCommand<<CharacterCustomizable>> 
class PreviousVariantCommand<<CharacterCustomizable>> 
class ChangeSceneCommand 

IReversibleCommandGeneric <|.down. PreviousVariantCommand
IReversibleCommandGeneric <|.down. NextVariantCommand

class EventSystem<<static>> {
  + +EventName: enum
  - -eventRegister: Dictionary<EventName, List<EventCallback>> 
  + +Subscribe(): void
  + +Unsubscribe(): void
  + +RaiseEvent(): void
}

@enduml